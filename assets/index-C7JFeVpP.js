import{p as t}from"./phaser-C2_wa_Fb.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const i of t)if("childList"===i.type)for(const t of i.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();class e extends t.Scene{constructor(){super("Game"),this.scaleRatio=window.devicePixelRatio/3,this.playerspeed=250,this.is_holding={left:!1,right:!1,direction:!1}}preload(){this.load.setPath("assets"),this.load.image("background","bg.png"),this.load.image("levelmap","levelmap.png"),this.load.image("ground","ground.png"),this.load.image("block","block.png"),this.load.atlas("greycat","greycatspritesheet.png","greycatsprite.json"),this.load.atlas("mouseidle","mouseidlesheet.png","mouseidlesheet.json"),this.load.atlas("mouserun","mouserunsheet.png","mouserunsheet.json"),this.load.atlas("mousedie","mousediesheet.png","mousediesheet.json"),this.width=this.sys.game.config.width,this.height=this.sys.game.config.height}create(){this.add.image(512,384,"background"),this.add.image(0,0,"levelmap").setDepth(100).setPosition(this.width/2,this.height/2.3),this.ground=this.add.group(),this.sand=this.add.sprite(this.width/2,this.height/2,"ground").setDepth(101),this.platform=this.add.tileSprite(this.width/2,this.height/1.2,320,32,"ground").setScale(this.scaleRatio*this.width/2,3*this.scaleRatio),this.physics.add.existing(this.platform,!0),this.ground.add(this.platform),this.cat=this.physics.add.sprite(this.width/2,this.height/2,"greycat").setDepth(200).setScale(10*this.scaleRatio).refreshBody(),this.physics.add.existing(this.cat),this.cat.setCollideWorldBounds(!0),this.physics.add.collider(this.cat,this.ground),this.cursor=this.input.keyboard.createCursorKeys(),this.keyA=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.A),this.keyD=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.D),this.anims.create({key:"standing",frames:this.anims.generateFrameNames("greycat",{prefix:"idlefront",end:3,zeroPad:4}),repeat:-1}),this.anims.create({key:"runright",frames:this.anims.generateFrameNames("greycat",{prefix:"runright",end:7,zeroPad:4}),repeat:-1}),this.anims.create({key:"runleft",frames:this.anims.generateFrameNames("greycat",{prefix:"runleft",end:7,zeroPad:4}),repeat:-1}),this.ap=this.input.activePointer;let t=.45*this.width,e=this.height;this.zone_left=this.add.zone(0,0,t,e),this.zone_left.setOrigin(0,0),this.zone_left.setScrollFactor(0),this.zone_left.setDepth(500),this.zone_right=this.add.zone(this.width,0,t,e),this.zone_right.setOrigin(1,0),this.zone_right.setScrollFactor(0),this.zone_right.setDepth(500),this.zone_left.setInteractive(),this.zone_right.setInteractive(),this.zone_left.on("pointerdown",(()=>{this.holdLeft()}),this),this.zone_left.on("pointerup",(()=>{this.releaseLeft()}),this),this.zone_left.on("pointerover",(()=>{this.enterLeft()})),this.zone_left.on("pointerout",(()=>{this.releaseLeft()})),this.zone_right.on("pointerdown",(()=>{this.holdRight()}),this),this.zone_right.on("pointerup",(()=>{this.releaseRight()}),this),this.zone_right.on("pointerover",(()=>{this.enterRight()})),this.zone_right.on("pointerout",(()=>{this.releaseRight()}))}update(t,e){const{left:i,right:s}=this.cursor;i.isDown||this.keyA.isDown||"left"==this.is_holding.direction?(this.cat.setVelocityX(-this.playerspeed),this.cat.anims.play("runleft",!0)):s.isDown||this.keyD.isDown||"right"==this.is_holding.direction?(this.cat.setVelocityX(this.playerspeed),this.cat.anims.play("runright",!0)):(this.cat.setVelocityX(0),this.cat.anims.play("standing",!0))}holdLeft(){this.is_holding.left=!0,this.is_holding.direction="left",console.log("left")}holdRight(){this.is_holding.right=!0,this.is_holding.direction="right",console.log(this.is_holding.direction)}releaseLeft(){this.is_holding.left=!1,this.is_holding.direction=!1}releaseRight(){this.is_holding.right=!1,this.is_holding.direction=!1}enterLeft(){this.ap.leftButtonDown()&&(this.is_holding.left=!0,this.is_holding.direction="left",this.is_holding.right&&(this.is_holding.right=!1))}enterRight(){this.ap.leftButtonDown()&&(this.is_holding.right=!0,this.is_holding.direction="right",this.is_holding.left&&(this.is_holding.left=!1))}}const i={type:t.CANVAS,parent:"game-container",backgroundColor:"#028af8",scale:{mode:t.Scale.NONE,width:window.innerWidth,height:window.innerHeight},physics:{default:"arcade",arcade:{gravity:{y:200},debug:!1}},render:{antialiasGL:!1,pixelArt:!0},canvasStyle:"display: block; width: 100%; height: 100%;",autoFocus:!0,audio:{disableWebAudio:!1},input:{activeInput:1},scene:[e]};new t.Game(i);
